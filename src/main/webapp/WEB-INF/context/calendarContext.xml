<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ehcache="http://www.springmodules.org/schema/ehcache"
    xmlns:aop="http://www.springframework.org/schema/aop"
    xmlns:p="http://www.springframework.org/schema/p"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
    http://www.springframework.org/schema/aop
    http://www.springframework.org/schema/aop/spring-aop-2.0.xsd
    http://www.springmodules.org/schema/ehcache
    http://www.springmodules.org/schema/cache/springmodules-ehcache.xsd">
    
    <!--
     | CALENDAR ADAPTER REGISTRATIONS 
     +-->
    
    <!-- Aliases for depricated bean calendar names -->
    <alias name="httpRssAdapter" alias="edu.yale.its.tp.portlets.calendar.adapter.RssCalendarAdapter"/>
    <alias name="httpIcalAdapter" alias="edu.yale.its.tp.portlets.calendar.adapter.HttpICalAdapter"/>
    
    <!-- Simple un-authenticated adapter for iCal-formatted calendars available via http(s) -->
    <bean id="httpIcalAdapter" 
        class="org.jasig.portlet.calendar.adapter.ConfigurableHttpCalendarAdapter"
        p:cache-ref="calendarCache"/>
    
    <!-- Simple un-authenticated adapter for RSS-formatted calendars available via http(s) -->
    <bean id="httpRssAdapter" 
        class="org.jasig.portlet.calendar.adapter.ConfigurableHttpCalendarAdapter"
        p:cache-ref="calendarCache" p:cacheKeyPrefix="rss">
        <property name="contentProcessor">
            <bean class="org.jasig.portlet.calendar.processor.RssContentProcessorImpl"/>
        </property>
    </bean>
    
    <!-- Simple adapter for iCal files available as files on the server -->	
    <bean id="fileIcalAdapter" 
        class="org.jasig.portlet.calendar.adapter.ConfigurableFileCalendarAdapter"
        p:cache-ref="calendarCache"/>

    <!-- CalDAV adapter for calendars available via the CalDAV protocol -->
    <bean id="calDavAdapter" 
        class="org.jasig.portlet.calendar.adapter.CalDavCalendarAdapter"
        p:cache-ref="calendarCache">
        <property name="credentialsExtractor">
            <bean class="org.jasig.portlet.calendar.credentials.RequestAttributeCredentialsExtractorImpl"/>
        </property>
        <property name="cacheKeyGenerator">
            <bean class="org.jasig.portlet.calendar.caching.RequestAttributeCacheKeyGeneratorImpl"/>
        </property>
        <property name="urlCreator">
            <bean class="org.jasig.portlet.calendar.url.StringTemplateUrlCreatorImpl"/>
        </property>
    </bean>
    
    
    <!--
     | BASIC AUTHENTICATION SUPPORT
     |
     | Uncomment the following section to enable cached password basic authentication 
     | calendars.  You will also need to uncomment the reference to the 
     | CachedCredentialsInitializationService bean in calendar.xml.
     +-->
    
    <!-- Sample basic authentication HttpClient iCal feed adapter -->
    <!--
    <bean id="basicAuthHttpIcalAdapter" class="org.jasig.portlet.calendar.adapter.ConfigurableHttpCalendarAdapter">
        <property name="cache" ref="calendarCache"/>
        <property name="credentialsExtractor">
            <bean class="org.jasig.portlet.calendar.credentials.RequestAttributeCredentialsExtractorImpl"/>
        </property>
        <property name="cacheKeyGenerator">
            <bean class="org.jasig.portlet.calendar.caching.RequestAttributeCacheKeyGeneratorImpl"/>
        </property>
    </bean>
    -->
    
    
    <!-- 
     | CAS PROXY AUTHENTICATION
     |
     | Uncomment the following section to enable CAS Proxy calendars.  You will also
     | need to uncomment the reference to the CasProxyInitializationService bean
     | in calendar.xml.
     +-->
    
    <!-- Sample CAS Proxy authenticated adapter for iCal-formatted calendars over https -->
    <bean id="casProxyHttpIcalAdapter" 
        class="org.jasig.portlet.calendar.adapter.ConfigurableHttpCalendarAdapter"
        p:cache-ref="calendarCache">
        <property name="urlCreator">
            <bean class="org.jasig.portlet.calendar.url.CasProxyUrlCreatorImpl"
                p:proxyTicketService-ref="casTicketService"/>
        </property>
        <property name="cacheKeyGenerator">
            <bean class="org.jasig.portlet.calendar.caching.RequestAttributeCacheKeyGeneratorImpl"/>
        </property>
    </bean>    
    
    <!--
     | ADDITIONAL CALENDAR ADAPTER CONFIGURATIONS
     |   
     | You may register additional calendar adapter configurations or custom
     | implementations here. 
     +-->
    
    <!-- Oracle calendar-key adapter -->
    <!--
    <bean id="calendarKeyAdapter" class="org.jasig.portlet.calendar.adapter.ConfigurableHttpCalendarAdapter">
        <property name="cache" ref="calendarCache"/>
        <property name="cacheKeyPrefix" value="calendarKey"/>
        <property name="urlCreator">
        <bean class="org.jasig.portlet.calendar.url.CalendarkeyUrlCreatorImpl"/>
        </property>
    </bean>	
    -->

</beans>